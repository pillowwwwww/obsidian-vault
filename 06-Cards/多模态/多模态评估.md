---
Title: 多模态测评相关内容
tags: 
原始链接: https://flageval.baai.ac.cn/docs/multimodal/Image-Text-Matching/metrics.html
---
原始链接要仔细阅读，包括了COCO和Flickr30k的测评数据和测评指标介绍（i2t\t2i)
## 评测指标
### 1. 召回率(Recall)
Recall 指的是在基于查询的信息检索任务(如: 图像-文本匹配任务)中，针对所有的评估实例(如: Flickr30k 数据集中的 1000 张图像和 5000 句文本)，模型将正确的检索结果(如: 图到文 i2t 检索方向时的 5 句匹配的文本之一)排名到指定名次范围内(如: 进入前 10 名)的平均次数比例(如: 0.900 分，取值范围是 0~1 ；有时以百分比 % 作为单位进行表示，如: 90.0 分；该指标越大，表明模型的检索性能越强)

图文检索任务中主要有两种检索方向：

- **i2t**：Image-to-Text，图像检索匹配的文本
- **t2i**：Text-to-Image，文本检索匹配的图像
例如在 Flickr30k 或 MSCOCO 中：
- 每张图像有 5 句匹配文本（图文比 1:5）
- 每句文本只匹配一张图像

### 2. 六项基本召回率指标

####  图像到文本召回率（i2t_R@K）
**定义**：对于每张图像，查看其对应的 5 条描述中，是否有至少一条落在 Top-K 中。  
然后计算所有图像的平均召回率。
- **i2t_R@1**：Top-1 中是否有匹配文本  
- **i2t_R@5**：Top-5 中是否有匹配文本  
- **i2t_R@10**：Top-10 中是否有匹配文本
#### 文本到图像召回率（t2i_R@K）
**定义**：对于每条文本，检查其唯一对应图像是否在 Top-K 返回图像中。  
再计算所有文本的平均召回率。
- **t2i_R@1**：Top-1 中是否有正确图像  
- **t2i_R@5**：Top-5 中是否有正确图像  
- **t2i_R@10**：Top-10 中是否有正确图像
#### Recall 总和（R@Sum）
用于综合评价模型在两个方向的检索能力。
```
R@Sum = i2t_R@1 + i2t_R@5 + i2t_R@10 + t2i_R@1 + t2i_R@5 + t2i_R@10
```
## n-fold i2t 和 i2t 的区别

| 指标               | 含义                    | 特点                                    |
| ---------------- | --------------------- | ------------------------------------- |
| `i2t_R@K`        | 图像→文本 检索评估            | 用 **全体测试集** 做一次评估                     |
| `n-fold i2t_R@K` | 图像→文本 检索评估（**n 折评估**） | 将测试集平均分为 n 份，评估 n 次，最后求平均，**更稳定、更公平** |
