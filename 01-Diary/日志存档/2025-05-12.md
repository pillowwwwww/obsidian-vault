---
date: 2025-05-12 15:19:13
tags: dailynote
rating: ⭐
excerpt: 
---

## TODO

- [ ] 多喝水，避免久坐不动
- [ ] 正在复现FedAvg算法，两个框架Flower和pfllib这是什么？
- [ ] 想把fl和大模型结合的框架复现一下

## Tracking

- 15:22 关于FedAvg：联邦学习中的数据集需要将数据划分给多个用户（客户端）每个客户端只使用属于自己的那部分数据进行训练。
		--所以：下载数据集是必要前提，划分数据是联邦学习的本质操作。
		- FedAvg核心步骤：![[Pasted image 20250512155457.png]
			|1|加载配置参数（如模型、数据集、客户端数量、训练轮次等）|
			|2|根据选择的模型和数据集，构建全局模型|
			|3|随机选取客户端子集，分别进行本地训练|
			|4|收集客户端训练后的参数，进行 FedAvg 聚合|
			|5|更新全局模型并评估性能|
			|6|最后测试模型在全局测试集上的性能，并保存训练结果|


- #### 如果用 MLP 处理图像，会发生什么？
    假设你用 MLP 处理 32×32 RGB 图像（即输入维度是 `32×32×3=3072`）：
    `fc1 = nn.Linear(3072, 512)`

	虽然可以跑，但：

	- 会丢失空间信息（比如图中"眼睛"和"嘴巴"之间的相对位置）
    
	- 参数很多，学习效率低
    
	- 精度明显劣于 CNN

	所以：**图像任务几乎都用 CNN，MLP 只作为 baseline 对比。**

- #### 🧩 数据集与模型选择

	##### 二、你的项目中有哪些数据集？

	| 数据集                   | 图像大小    | 通道数    | 推荐模型      | 说明                  |
	| --------------------- | ------- | ------ | --------- | ------------------- |
	| MNIST / Fashion-MNIST | 28 × 28 | 1（灰度图） | CNN 或 MLP | 图像简单，适合用来对比实验       |
	| CIFAR-10              | 32 × 32 | 3（RGB） | CNN       | 图像结构更复杂，MLP 参数太多不适用 |
	
	---

	### 三、实际模型选择建议：什么时候用 CNN，什么时候用 MLP？

	| 场景 | 推荐模型 | 原因 |
	|------|----------|------|
	| 图像数据（如 MNIST、CIFAR） | CNN ✅ | 可以提取图像空间特征，精度高，参数效率好 |
	| 简单图像任务 / 对比实验 | MLP ✅ | 参数多但训练快，可用于 baseline 比较 |
	| 非图像特征（如金融数据、传感器、用户特征） | MLP ✅ | 数据是向量结构，无需空间结构建模 |
	| 快速调试、测试算法正确性 | MLP ✅ | 模型小、训练速度快，方便验证代码流程 |
	
> 	✅ **图像任务默认用 CNN，MLP 适用于一维特征或对比实验。**



